`use strict`;

const fs = require(`fs-extra`);
const checkDirname = require(`${__dirname}/../helper/checkDirname.js`);
const checkFilename = require(`${__dirname}/../helper/checkFilename.js`);

function renameSync(_this, dir, src, dest) {
  checkDirname(dir);
  checkFilename(src);
  checkFilename(dest);

  const srcPath = `${_this.dir}/${dir}/${src}.json`;
  const destPath = `${_this.dir}/${dir}/${dest}.json`;
  fs.moveSync(srcPath, destPath);

  if(_this.options.git){
    _this.git.addSync(`"${srcPath}" "${destPath}"`);
    _this.git.commitSync(`"${srcPath}" "${destPath}"`, `renameSync: ${src} -> ${dest}`);
  }
}

module.exports = renameSync;
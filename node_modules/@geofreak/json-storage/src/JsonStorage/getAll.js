`use strict`;

async function getAll(_this) {
  const all = {};

  const dirs = await _this.get();

  for (let i = 0; i < dirs.length; i++) {
    const dir = dirs[i];
    if (dir !== `.git`) {
      all[dir] = {};
      await _this.forEach(dir, (json, file) => {
        all[dir][file] = json;
      });
    }
  }

  return all;
}

module.exports = getAll;

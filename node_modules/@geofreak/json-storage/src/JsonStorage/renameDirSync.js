`use strict`;

const fs = require(`fs-extra`);
const checkDirname = require(`${__dirname}/../helper/checkDirname.js`);

function renameDirSync(_this, src, dest) {
  checkDirname(src);
  checkDirname(dest);

  const srcPath = `${_this.dir}/${src}`;
  const destPath = `${_this.dir}/${dest}`;

  fs.moveSync(srcPath, destPath);

  if(_this.options.git){
    _this.git.addSync(`"${srcPath}" "${destPath}"`);
    _this.git.commitSync(`"${srcPath}" "${destPath}"`, `renameSync: ${src} -> ${dest}`);
  }

}

module.exports = renameDirSync;
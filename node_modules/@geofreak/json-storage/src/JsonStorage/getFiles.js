`use strict`;

const fs = require(`fs-extra`);
const checkDirname = require(`${__dirname}/../helper/checkDirname.js`);

async function getFiles(_this, dir) {
  checkDirname(dir);

  const filesRaw = await fs.readdir(`${_this.dir}/${dir}`);
  const files = [];
  filesRaw.forEach(f => {
    files.push(f.substring(0, f.length - 5));
  });

  return files;
}

module.exports = getFiles;

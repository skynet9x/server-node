`use strict`;

const fs = require(`fs-extra`);
const checkDirname = require(`${__dirname}/../helper/checkDirname.js`);

async function renameDir(_this, src, dest) {
  checkDirname(src);
  checkDirname(dest);

  const srcPath = `${_this.dir}/${src}`;
  const destPath = `${_this.dir}/${dest}`;

  await fs.move(srcPath, destPath);

  if(_this.options.git){
    await _this.git.add(`"${srcPath}" "${destPath}"`);
    await _this.git.commit(`"${srcPath}" "${destPath}"`, `rename: ${src} -> ${dest}`);
  }
  
}
module.exports = renameDir;

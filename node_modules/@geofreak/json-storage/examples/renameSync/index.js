`use strict`;

const JsonStorage = require(`${__dirname}/../../index.js`);

// init storage
const store = new JsonStorage(`${__dirname}/storage`);

console.log(`write files ...`);
store.setSync(`users`, `user001`, {
  name: `Thomas`
});
store.setSync(`users`, `user002`, {
  name: `Tom`
});
store.setSync(`cars`, `car001`, {
  name: `Volkswagen`
});
store.setSync(`cars`, `car002`, {
  name: `Mercedes`
});

console.log(`wait 5 seconds ...`);
setTimeout(() => {

  console.log(`rename file ...`);
  store.renameSync(`users`, `user001`, `user999`);

  console.log(`rename dir ...`);
  store.renameSync(`cars`, `mycars`);

}, 5000);
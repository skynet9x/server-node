`use strict`;

const JsonStorage = require(`${__dirname}/../../index.js`);

// init storage
const store = new JsonStorage(`${__dirname}/storage`);

const backupStorage = {
  "cars": {
    "car001": {
      "name": `Volkswagen`
    },
    "car002": {
      "name": `Mercedes`
    }
  },
  "users": {
    "user001": {
      "name": `Jens`
    },
    "user002": {
      "name": `Julia`
    }
  }
};

const backupDir = {
  "cat001": {
    "name": `Henry`
  },
  "cat002": {
    "name": `Hulk`
  }
};

(async () => {
  // set a complete storage
  await store.setAllSync(backupStorage);

  // set a complete dir
  await store.setAllSync(`cats`, backupDir);
})();
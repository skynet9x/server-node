`use strict`;

const JsonStorage = require(`${__dirname}/../../index.js`);

// init storage
const store = new JsonStorage(`${__dirname}/storage`);

console.log(`write files ...`);
store.setSync(`users`, `user001`, {
  name: `Thomas`
});
store.setSync(`users`, `user002`, {
  name: `Tom`
});
store.setSync(`cars`, `car001`, {
  name: `Volkswagen`
});
store.setSync(`cars`, `car002`, {
  name: `Daihatsu`
});

console.log(`wait 5 seconds ...`);
setTimeout(() => {

  console.log(`remove file ...`);
  store.removeSync(`cars`, `car001`);

  console.log(`remove dir ...`);
  store.removeSync(`users`);

}, 5000);